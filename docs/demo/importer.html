<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="description" content="" />
		<link rel="icon" href="/pandoc-svelte-components/favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta http-equiv="content-security-policy" content="">
		<link href="/pandoc-svelte-components/_app/immutable/assets/Document-a4c0a9bf.css" rel="stylesheet">
		<link rel="modulepreload" href="/pandoc-svelte-components/_app/immutable/start-272670b1.js">
		<link rel="modulepreload" href="/pandoc-svelte-components/_app/immutable/chunks/index-13e87bf7.js">
		<link rel="modulepreload" href="/pandoc-svelte-components/_app/immutable/chunks/singletons-9208bd18.js">
		<link rel="modulepreload" href="/pandoc-svelte-components/_app/immutable/chunks/preload-helper-41c905a7.js">
		<link rel="modulepreload" href="/pandoc-svelte-components/_app/immutable/components/layout.svelte-23dac412.js">
		<link rel="modulepreload" href="/pandoc-svelte-components/_app/immutable/modules/pages/_layout.ts-9cbb603b.js">
		<link rel="modulepreload" href="/pandoc-svelte-components/_app/immutable/chunks/_layout-da46b06b.js">
		<link rel="modulepreload" href="/pandoc-svelte-components/_app/immutable/components/pages/demo/importer/_page.svelte-da855f88.js">
		<link rel="modulepreload" href="/pandoc-svelte-components/_app/immutable/chunks/Document-a093bba3.js"><title>Importer   demo.</title><!-- HEAD_svelte-kyjbv2_START --><!-- HEAD_svelte-kyjbv2_END -->
	</head>
	<body>
		<div>




<p>Markdown documents have different parts that we want to load into pandoc. For this, I’ve implemented a custom rollup loader that runs system pandoc to load the JSON representation that <code id="" class="">pandoc-svelte-components</code> consumes.</p><p>Pandoc parsing is kind of expensive (with, e.g., a blog with hundreds of posts, we don’t want to spin it up and parse each time.) So I use a cache (located by default at <code id="" class="">cache</code> in the project root) to hold the JSON formatted data.</p><p>Pandoc’s internal syntax is also extremely wasteful with regard to spaces. It has a special element called <code id="" class="">Space</code> so that the paragraph <code id="" class="">"This too shall pass."</code> is rendered internally as <code id="" class="">{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"too"},{"t":"Space"},{"t":"Str","c":"shall"},{"t":"Space"},{"t":"Str","c":"pass."}]}</code> instead of just <code id="" class="">{"t":"Para","c":[{"t":"Str","c":"This too shall pass."}</code>. The benefits of this to downstream renderers are slim.</p>

<hr>
This is a representation of the markdown document at `page.md` which has the title &quot;Importer demo.&quot;

<h2>The metadata loaded directly from the import is:</h2>

<pre>{"title":"Importer demo.","author":"Ben Schmidt","date":"2023-02-05T00:00:00.000Z"}</pre>
<h2>The JSON representation of the metadata *internal* to pandoc is:</h2>
<pre>  {"author":{"t":"MetaInlines","c":[{"t":"Str","c":"Ben"},{"t":"Space"},{"t":"Str","c":"Schmidt"}]},"date":{"t":"MetaInlines","c":[{"t":"Str","c":"2023-02-05"}]},"title":{"t":"MetaInlines","c":[{"t":"Str","c":"Importer"},{"t":"Space"},{"t":"Str","c":"demo."}]}}
</pre>
<h2>The JSON representation of the document is:</h2>

<pre>{
  "pandoc-api-version": [
    1,
    22,
    1
  ],
  "meta": {
    "author": {
      "t": "MetaInlines",
      "c": [
        {
          "t": "Str",
          "c": "Ben"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "Schmidt"
        }
      ]
    },
    "date": {
      "t": "MetaInlines",
      "c": [
        {
          "t": "Str",
          "c": "2023-02-05"
        }
      ]
    },
    "title": {
      "t": "MetaInlines",
      "c": [
        {
          "t": "Str",
          "c": "Importer"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "demo."
        }
      ]
    }
  },
  "blocks": [
    {
      "t": "Para",
      "c": [
        {
          "t": "Str",
          "c": "Markdown"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "documents"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "have"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "different"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "parts"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "that"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "we"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "want"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "to"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "load"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "into"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "pandoc."
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "For"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "this,"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "I’ve"
        },
        {
          "t": "SoftBreak"
        },
        {
          "t": "Str",
          "c": "implemented"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "a"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "custom"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "rollup"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "loader"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "that"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "runs"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "system"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "pandoc"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "to"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "load"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "the"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "JSON"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "representation"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "that"
        },
        {
          "t": "Space"
        },
        {
          "t": "Code",
          "c": [
            [
              "",
              [],
              []
            ],
            "pandoc-svelte-components"
          ]
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "consumes."
        }
      ]
    },
    {
      "t": "Para",
      "c": [
        {
          "t": "Str",
          "c": "Pandoc"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "parsing"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "is"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "kind"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "of"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "expensive"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "(with,"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "e.g.,"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "a"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "blog"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "with"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "hundreds"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "of"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "posts,"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "we"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "don’t"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "want"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "to"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "spin"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "it"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "up"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "and"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "parse"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "each"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "time.)"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "So"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "I"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "use"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "a"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "cache"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "(located"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "by"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "default"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "at"
        },
        {
          "t": "Space"
        },
        {
          "t": "Code",
          "c": [
            [
              "",
              [],
              []
            ],
            "cache"
          ]
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "in"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "the"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "project"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "root)"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "to"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "hold"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "the"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "JSON"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "formatted"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "data."
        }
      ]
    },
    {
      "t": "Para",
      "c": [
        {
          "t": "Str",
          "c": "Pandoc’s"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "internal"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "syntax"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "is"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "also"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "extremely"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "wasteful"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "with"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "regard"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "to"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "spaces."
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "It"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "has"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "a"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "special"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "element"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "called"
        },
        {
          "t": "Space"
        },
        {
          "t": "Code",
          "c": [
            [
              "",
              [],
              []
            ],
            "Space"
          ]
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "so"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "that"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "the"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "paragraph"
        },
        {
          "t": "Space"
        },
        {
          "t": "Code",
          "c": [
            [
              "",
              [],
              []
            ],
            "\"This too shall pass.\""
          ]
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "is"
        },
        {
          "t": "SoftBreak"
        },
        {
          "t": "Str",
          "c": "rendered"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "internally"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "as"
        },
        {
          "t": "Space"
        },
        {
          "t": "Code",
          "c": [
            [
              "",
              [],
              []
            ],
            "{\"t\":\"Para\",\"c\":[{\"t\":\"Str\",\"c\":\"This\"},{\"t\":\"Space\"},{\"t\":\"Str\",\"c\":\"too\"},{\"t\":\"Space\"},{\"t\":\"Str\",\"c\":\"shall\"},{\"t\":\"Space\"},{\"t\":\"Str\",\"c\":\"pass.\"}]}"
          ]
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "instead"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "of"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "just"
        },
        {
          "t": "Space"
        },
        {
          "t": "Code",
          "c": [
            [
              "",
              [],
              []
            ],
            "{\"t\":\"Para\",\"c\":[{\"t\":\"Str\",\"c\":\"This too shall pass.\"}"
          ]
        },
        {
          "t": "Str",
          "c": "."
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "The"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "benefits"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "of"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "this"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "to"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "downstream"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "renderers"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "are"
        },
        {
          "t": "Space"
        },
        {
          "t": "Str",
          "c": "slim."
        }
      ]
    }
  ]
}
</pre>


		<script type="module" data-sveltekit-hydrate="6ley">
			import { start } from "/pandoc-svelte-components/_app/immutable/start-272670b1.js";

			start({
				env: {},
				paths: {"assets":"/pandoc-svelte-components","base":"/pandoc-svelte-components"},
				target: document.querySelector('[data-sveltekit-hydrate="6ley"]').parentNode,
				version: "1676753125211",
				hydrate: {
					node_ids: [0, 7],
					data: [null,null],
					form: null,
					error: null
				}
			});
		</script>
	</div>
	</body>
</html>
